<?xml version="1.0" encoding="utf-8" ?>
<Patch>
	<!-- make the infinite chemreactor produce a dripfeed of chemfuel instead of lumps of 75 
		 balanced so that output is the same -->
	<Operation Class="PatchOperationReplace">
	  <xpath>Defs/ThingDef[defName = "InfiniteChemreactor"]/comps/li[@Class="CompProperties_Spawner"]/spawnCount</xpath>
	  <value>
		<spawnCount>1</spawnCount>
	  </value>
	</Operation>
	<Operation Class="PatchOperationReplace">
	  <xpath>Defs/ThingDef[defName = "InfiniteChemreactor"]/comps/li[@Class="CompProperties_Spawner"]/spawnIntervalRange</xpath>
	  <value>
		<spawnIntervalRange><min>8000</min><max>8000</max></spawnIntervalRange>
	  </value>
	</Operation>
	<Operation Class="PatchOperationReplace">
	  <xpath>Defs/ThingDef[defName = "InfiniteChemreactor"]/comps/li[@Class="CompProperties_Spawner"]/showMessageIfOwned</xpath>
	  <value>
		<showMessageIfOwned>false</showMessageIfOwned>
	  </value>
	</Operation>
	<!-- buff the Vanometric Cell, but not too much -->
	<Operation Class="PatchOperationReplace">
	  <xpath>Defs/ThingDef[defName = "VanometricPowerCell"]/comps/li[@Class="CompProperties_Power"]/basePowerConsumption</xpath>
	  <value>
		<basePowerConsumption>-2400</basePowerConsumption>
	  </value>
	</Operation>
	<!-- corrects the Vanometric Cell's name, given that it actually is a battery of power-generating cells -->
	<Operation Class="PatchOperationReplace">
	  <xpath>Defs/ThingDef[defName = "VanometricPowerCell"]/label</xpath>
	  <value>
		<label>vanometric battery</label>
	  </value>
	</Operation>
	<!-- corrects the Vanometric Cell's costlist to require this mod's items
		 Much more expensive given how much power it now generates, and the fact that it's free
		 However, its cost is reduced to prevent gaining too many resources from deconstructing these -->
	<Operation Class="PatchOperationReplace">
	  <xpath>Defs/ThingDef[defName = "VanometricPowerCell"]/costList</xpath>
	  <value>
		<costList>
		  <Vanadite>80</Vanadite>
		  <D9VanometricCell>4</D9VanometricCell>
		  <ComponentSpacer>4</ComponentSpacer>
		</costList>
	  </value>
	</Operation>
	<!-- restores sun lamp power consumption if another mod (e.g. Medieval Times) changes it 
		 this is a really important power sink given how much powergen you can get with this mod -->
	<Operation Class="PatchOperationReplace">
	  <xpath>Defs/ThingDef[defName = "SunLamp"]/comps/li[@Class="CompProperties_Power"]/basePowerConsumption</xpath>
	  <value>
		<basePowerConsumption>2900</basePowerConsumption>
	  </value>
	</Operation>
	<!-- move the AI persona core to the new category for AI items -->
	<Operation Class="PatchOperationReplace">
	  <xpath>Defs/ThingDef[defName = "AIPersonaCore"]/thingCategories</xpath>
	  <value>
		<thingCategories>
		  <li>D9_AICat</li>
		</thingCategories>
	  </value>
	</Operation>
	<!-- make the Psychic Foil Helmet craftable -->
	<Operation Class="PatchOperationAttributeSet">
		<xpath>Defs/ThingDef[defName="Apparel_PsychicFoilHelmet"]</xpath>
		<attribute>ParentName</attribute>
		<value>ArmorHelmetMakeableBase</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Apparel_PsychicFoilHelmet"]</xpath>
		<value>
			<recipeMaker>
			  <unfinishedThingDef>UnfinishedMetallicTechArmor</unfinishedThingDef>
			  <skillRequirements>
				<Crafting>7</Crafting>
			  </skillRequirements>
			  <researchPrerequisite>D9PsychicFoil</researchPrerequisite>
			</recipeMaker>
			<costList>
			    <PsychicFoil>30</PsychicFoil>
				<Plasteel>10</Plasteel>
			</costList>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="Apparel_PsychicFoilHelmet"]/statBases</xpath>
		<value>
			<WorkToMake>2000</WorkToMake>
		</value>
	</Operation>
	<!-- make Archotech limbs craftable -->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[@Name="BodyPartArchotechBase"]</xpath>
		<value>
			<recipeMaker>
			  <workSpeedStat>SmithingSpeed</workSpeedStat>
			  <workSkill>Crafting</workSkill>
			  <effectWorking>Smith</effectWorking>
			  <soundWorking>Recipe_Smith</soundWorking>
			  <recipeUsers>
				<li>TableNanoforge</li>
			  </recipeUsers>
			  <skillRequirements>
				<Crafting>18</Crafting>
			  </skillRequirements>
			  <unfinishedThingDef>UnfinishedComponent</unfinishedThingDef>
			  <researchPrerequisite>D9ArchotechLimbs</researchPrerequisite>
			</recipeMaker>
		</value>
	</Operation>
	<!-- Eye -->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="ArchotechEye"]</xpath>
		<value>
			<costList>
				<D9Nanomaterial>120</D9Nanomaterial>
				<AIPersonaFragment>1</AIPersonaFragment>
				<D9VanometricCell>1</D9VanometricCell>
			</costList>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="ArchotechEye"]/statBases</xpath>
		<value>
			<WorkToMake>55000</WorkToMake>
		</value>
	</Operation>
	<!-- Arm and a Leg -->
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="ArchotechArm" or defName="ArchotechLeg"]</xpath>
		<value>
			<costList>
				<D9Nanomaterial>160</D9Nanomaterial>
				<ComponentSpacer>4</ComponentSpacer>
				<D9VanometricCell>1</D9VanometricCell>
			</costList>
		</value>
	</Operation>
	<Operation Class="PatchOperationAdd">
		<xpath>Defs/ThingDef[defName="ArchotechArm" or defName="ArchotechLeg"]/statBases</xpath>
		<value>
			<WorkToMake>38000</WorkToMake>
		</value>
	</Operation>
</Patch>